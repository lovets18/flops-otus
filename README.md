# mlops-otus

## hw1

1. Сформулировать цели проектируемой антифрод-системы в соответствии с требованиями заказчика

 Цель проекта: 
- разработать, протестировать и внедрить модуль на основе машинногно обучения, который будет определять мошеннические транзакции и блокировать их
 - снизить число мошеннических транзакций до 2% и менее
 - снизить ушерб от мошеннических транзакций до 500.000 рублей в месяц и менее
 - сохранить клиентскую базу, не допуская более чем 5% ошибочно блокированных операций


 2. Аргументированно выбрать метрику машинного обучения, оптимизация которой, на Ваш взгляд, позволит достичь поставленных целей.
 
 Необходимо максимизировать метрику recall для некорректных транзакций, чтобы найти как можно больше мошеннических транзакций, при этом допускается не более двух мошеннических операций, приводящих к потере денежных средств из сотни (предполагается, что из сотни мошеннических операций), т.е. **recall для мошеннических транзакций должен быть не ниже 0.98** (где True - мошенничество, False - корректно)

 Так как согласно оценке бизнес-аналитиков если более чем 5% транзакций будут отклонены, являясь при этом корректными, произойдет отток клиентов (предполгается, что в формулировке задания имелось в виду 5% от числа корректных транзакций), то необходимо оптимизировать метрику FP / (FP + TN) (где True - мошенничество, False - корректно), так, чтобы она не превышала 0.05. Если инвертировать метки, то эта задача сводится к обеспечению **recall для корректных транзакций больше 0.95** (если 95% и более корректных транзакций распознаны, то ошибочно забракованы не более 5% верных транзакций)


 3. Проанализировать особенности проекта с использованием, например, MISSION Canvas. Это позволит выделить специфику проекта и формализовать требования к нему, подобрать инструментарий и критерии оценки.

 M - бюджет проекта составляет 10 миллионов рублей (без учета з/п специалистов), сроки получения MVP - 3 месяца, сроки полноценного внедрения - 6 месяцев
 
 I - построить модель классификации, определяющей является ли транзакция мошеннической, которая допускает не более 500.000 ущерба от мошеннических операций в месяц
 
 S - за основу для алгоритмов взять вариации градиентнго бустинга (XGBoost, CatBoost, LightGBM), основыми оптимизируемыми метриками являются 
  и recall для мошеннических (не ниже 0.98) и корректных (не ниже 0.95) транзакций , выкатка решения должна осуществляться в облако
 
 S - в команду необходимо включить инженера данных, который соберет данные для обучения из текущей иинформации в системе компании (или настроит сбор такой информации), эксперта по машинному обучению, который проведет анализ данных и обучение модели, а также MLops-инженера, который внедрит обученную модель. Для ведения проекта, отслеживания результата и общения с заказчиком требуется проджект-менеджер
 
 I - необходимо подготовить данные с разметкой (задача обучения с учителем), требуется учесть то, что данные полученные в разное время могут отражать разные паттерны поведения, т.е. со временем необходимо будет переобучать/дообучать модель в зависимости от новых тенденций, внимание стоит обратить на дисбаланс классов
 
 O - результатом работы модели является решение об отклонении/одобрении транзакции, при пограничной ситуации возможно обращение к живому специалисту для того, чтобы он дополнительно изучил подозрительную операцию 

 N - информация о транзакциях должна храниться обезличенно и в зашифрованном виде, доступ к данным должен быть только у уполномоченных сотрудников, необходимо вести журнал дейтсвий с данными для остлеживания возможных утечек. Особое внимание в работе с транзакциями следует уделить крупным суммам. Необходимо вести мониторинг метрик работы модели, собирать данные для ее дообучения. Требуется внедрить тестирование модели (наличие и вопсроизводимость результата, доступность модуля, макимальная нагрузка)

 4. Попытаться декомпозировать планируемую систему, определить ее основные функциональные части.

 Планируемая система будет функционировать как отдельный микросервис, размещенный в облаке, и для основной системы учета транзакций будет предоставлять API. При отправке денежных средств информация о транзакции поступает в модуль принятия решения, который возрашает TRUE/FALSE, в зависимости от чего система отклоняет или разрешает транзакцию. Система принятия решений должна вести собственный обезличенный зашифрованный лог, основная информация о транзакциях сохраняется основной системой в качестве csv-файлов в файловой системе. Обмен сообщениями между модулем и основной системой должен вестись по безопасному протоколу с использованием шифрования.

Систему можно представить в виде следующих частей:
 - дешифровщик входной информации
 - балансировщик нагрузки (если модуль работает на единственном сревере, то на данном этапе возможно просто формирование очереди для обработки)
 - модель машинного обучения (с предобработкой данных)
 - модуль логгирования и сохранения информации
 - шифровщик данных для отправки ответа
 - модуль тестирования

5. Определить задачи, решение которых необходимо для достижения по- ставленных целей с учетом проведенного анализа. Задачи рекомендуется фор- мулировать по принципу S.M.A.R.T. На текущий момент, пока не конкрети- зированы детали антифрод-системы, они могут быть представлены в доста- точно общем виде. Но они позволят сформировать некоторый roadmap по реализации проекта.

Задачи приведены в issues данного репозитория. Рассмотрены лишь основные задачи, помимо этого могут возникать задачи на дополнительные исследования и доработки.

6. Создать GitHub-репозиторий для проекта и разместить в нем сформу- лированные задачи (∼ 5 задач) на Kanban-доске в GitHub Projects со статусом «Новые». В дальнейшем, при реализации проекта, эти задачи будут конкретизироваться, дробиться, видоизменяться и выполняться. Их статус тоже будет изменяться, что позволит Вам наглядно оценивать степень завершенности проекта.

Репозиторий: https://github.com/lovets18/mlops-otus (ветка hw1)
Проект: https://github.com/users/lovets18/projects/1
