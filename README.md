# mlops-otus

## hw1

1. Сформулировать цели проектируемой антифрод-системы в соответствии с требованиями заказчика

 Цель проекта: разработать, протестировать в течение 3 месяцев и внедрить в течение 6 месяцев модуль на основе машинногно обучения, который будет определять мошеннические транзакции и блокировать их, при этом не допуская ушерба от действий мошенников более чем на 500.000 в месяц, фиксируюя не более 2 операций на 100 транзакций. Не более 5 из 100 оераций должны быть индентифицированы ошибочно мошенническими (т.е. когда операция на самом деле корректная), модуль должен обрабатывать до 400 транзакций в секунду


 2. Аргументированно выбрать метрику машинного обучения, оптимиза- ция которой, на Ваш взгляд, позволит достичь поставленных целей.

 Необходимо максимизировать метрику recall, чтобы найти как можно больше мошеннических транзакций, при этом допускается не более двух мошеннических операций, приводящих к потере денежных средств из сотни, т.е. recall должен быть не ниже 0.98.
 Также для реализации поставленной залачи необходимо получить метрику accuracy не менее 0.95, так как согласно оценке бизнес-аналитиков если более чем 5%
 будут отклонены, являясь при этом корректными, произойдет отток клиентов (предполгается, что в формулировке задания имелось в виду 5% от числа вообще всех транзакций).


 3. Проанализировать особенности проекта с использованием, например, MISSION Canvas. Это позволит выделить специфику проекта и формализовать требования к нему, подобрать инструментарий и критерии оценки.

 M - бюджет проекта составляет 10 миллионов рублей (без учета з/п специалистов), сроки получения MVP - 3 месяца, сроки полноценного внедрения - 6 месяцев
 
 I - построить модель классификации, определяющей является ли транзакция мошеннической, которая допускает не более 500.000 ущерба от мошеннических операций в месяц
 
 S - за основу для алгоритмов взять вариации градиентнго бустинга (XGBoost, CatBoost, LightGBM), основыми оптимизируемыми метриками являются accuracy 
 (не ниже 0.95) и recall (не ниже 0.98)
 
 S - в команду необходимо включить инженера данных, который соберет данные для обучения из текущей иинформации в системе компании (или настроит сбор такой информации), эксперта по машинному обучению, который проведет анализ данных и обучение модели, а также MLops-инженера, который внедрит обученную модель. Для ведения проекта, отслеживания результата и общения с заказчиком требуется проджект-менеджер
 
 I - необходимо подготовить данные с разметкой (задача обучения с учителем), требуется учесть то, что данные полученные в разное время могут отражать разные паттерны поведения, т.е. со временем необходимо будет переобучать/дообучать модель в зависимости от новых тенденций
 
 O - результатом работы модели является решение об отклоенении/одобрении транзакции, при пограничной ситуации возможно обращение к живому специалисту для того, чтобы он дополнительно изучил подозрительную операцию. 

 N - информация о транзакциях должна храниться обезличенно и в зашифрованном виде, доступ к данным должен быть только у уполномоченных сотрудников, необходимо вести журнал дейтсвий с данными для остлеживания возможных утечек. Ссобое внимание в работе с транзакциями следует уделить крупным суммам. Необходимо вести мониторинг метрик работы модели, собирать данные для ее дообучения. Требуется внедрить тестирование модели (наличие и вопсроизводимость результата, доступность модуля, макимальная нагрузка). 

 4. Попытаться декомпозировать планируемую систему, определить ее основные функциональные части.

 Планируемая система будет функционировать как отдельный микросервис и для основной системы учета транзакций будет предоставлять API. При отправке денежных средств информация о транзакции поступает в модуль принятия решения, который возрашает TRUE/FALSE, в зависимости от чего система отклоняет или разрешает транзакцию. Система принятия решений должна вести собственный обезличенный зашифрованный лог, основная информация о транзакциях сохраняется основной системой в качестве csv-файлов в файловой системе. Обмен сообщениями между модулем и основной системой должен вестись по безопасному протоколу с использованием шифрования.

Систему можно представить в виде следующих частей:
 - дешифровщик входной информации
 - балансировщик нагрузки (если модуль работает на единственном сревере, то на данном этапе возможно просто формирование очереди для обработки)
 - модель машинного обучения (с предобработкой данных)
 - модуль логгирования и сохранения информации
 - шифровщик данных для отправки ответа
 - модуль тестирования
